crds:
  installPrometheus: false

opentelemetry-operator:
  tolerations:
    - key: "node-role.kubernetes.io/system"
      operator: "Exists"
      effect: "NoSchedule"
  nodeSelector:
    kubernetes.io/os: linux
    node-role.kubernetes.io/system: ""
  manager:
    collectorImage:
      repository: otel/opentelemetry-collector-contrib

defaultCRConfig:
  tolerations:
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"
    - key: "node-role.kubernetes.io/system"
      operator: "Exists"
      effect: "NoSchedule"

collectors:
  daemon:
    targetAllocator:
      enabled: true
    config:
      exporters:
        otlp/tempo:
          endpoint: lgtm-distributed-tempo-distributor.monitoring.svc.cluster.local:4317
          tls:
            insecure: true
        prometheusremotewrite/mimir:
          endpoint: http://lgtm-distributed-mimir-nginx.monitoring.svc.cluster.local/api/v1/push
          tls:
            insecure: true
        loki:
          endpoint: http://lgtm-distributed-loki-distributor.monitoring.svc:3100/loki/api/v1/push
      service:
        pipelines:
          traces:
            exporters:
              - otlp/tempo
          metrics:
            exporters:
              - prometheusremotewrite/mimir
          logs:
            exporters:
              - loki