enabledControllers:
  - cloud-node
  - node-csr-approval
  - node-ipam-controller

extraArgs:
  - --allocate-node-cidrs
  - --cidr-allocator-type=CloudAllocator
  - --node-cidr-mask-size-ipv4=24
  - --node-cidr-mask-size-ipv6=120

transformations:
  - name: system
    nodeSelector:
      - matchExpressions:
          - key: hostname
            operator: Regexp
            values:
              - ^system-.+$
    labels:
      node-role.kubernetes.io/system: ""
    taints:
      node-role.kubernetes.io/system: ":NoSchedule"

  - name: user
    nodeSelector:
      - matchExpressions:
          - key: hostname
            operator: Regexp
            values:
              - ^user-.+$
    labels:
      node-role.kubernetes.io/user: ""

  - name: gpu
    nodeSelector:
      - matchExpressions:
          - key: hostname
            operator: Regexp
            values:
              - ^gpu-.+$
    labels:
      node-role.kubernetes.io/gpu: ""

resources:
  requests:
    cpu: 10m
    memory: 64Mi
  limits:
    memory: 64Mi

daemonSet:
  enabled: true